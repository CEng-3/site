<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Settings</title>
  <!-- Pico CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css" />
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='icons/favicon.ico') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/settings.css') }}" />
</head>

<body>
  <header class="site-header">
    <!-- Logo -->
    <a href="/#" class="logo">
      <picture>
        <source srcset="{{ url_for('static', filename='images/TUS-Logo-White.png') }}" media="(prefers-color-scheme: dark)" />
        <source srcset="{{ url_for('static', filename='imagesTUS-Logo-Black.png') }}" media="(prefers-color-scheme: light)" />
        <img src="{{ url_for('static', filename='images/TUS-Logo-Black.png') }}" alt="TUS Logo" />
      </picture>
    </a>

    <!-- Login Button with icon and red text -->
    <a href="/logout" class="login-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
  </header>

  <main class="container">
    <!-- Header -->
    <header>
      <h1 class="header-title">Settings Menu</h1>
      <div class="header-underline"></div>
    </header>
    <form>
      <!-- Water Level Threshold -->
      <h2>Sensor Configuration</h2>
      <div class="water-threshold-config">
        <label for="sensor-level">Water level threshold:</label>
        <p>Modify the threshold percentage for triggering the warning notification</p>
      </div>
      <div class="sensor-config">
        <div class="input-icon-container">
          <span class="icon"><i class="fas fa-tint"></i></span>
          <input type="text" id="sensor-level" name="sensor-level" value="30%" readonly />
        </div>
      </div>
      <div class="water-button-row">
        <button type="button" id="decrement-btn"><i class="fas fa-minus"></i></button>
        <button type="button" id="increment-btn"><i class="fas fa-plus"></i></button>
      </div>

      <!-- pH Threshold Section -->
      <section class="ph-threshold-section">
        <h2>pH threshold:</h2>
        <p>Modify the minimum and maximum threshold for the pH to trigger a notification</p>
        <!-- Remove the duplicate pH labels div -->
        <div class="ph-inputs">
          <!-- Minimum pH box -->
          <div class="ph-box">
            <div class="ph-box-label">Minimum</div>
            <div class="sensor-config">
              <div class="input-icon-container">
                <span class="icon"><i class="fas fa-flask"></i></span>
                <input type="text" id="ph-min" name="ph-min" value="6.5" readonly />
              </div>
            </div>
            <div class="button-row">
              <button type="button" id="decrement-ph-min"><i class="fas fa-minus"></i></button>
              <button type="button" id="increment-ph-min"><i class="fas fa-plus"></i></button>
            </div>
          </div>
          <!-- Maximum pH box -->
          <div class="ph-box">
            <div class="ph-box-label">Maximum</div>
            <div class="sensor-config">
              <div class="input-icon-container">
                <span class="icon"><i class="fas fa-flask"></i></span>
                <input type="text" id="ph-max" name="ph-max" value="7.5" readonly />
              </div>
            </div>
            <div class="button-row">
              <button type="button" id="decrement-ph-max"><i class="fas fa-minus"></i></button>
              <button type="button" id="increment-ph-max"><i class="fas fa-plus"></i></button>
            </div>
          </div>
        </div>
      </section>
    </form>

    <!-- Tank Fill Demo - Moved inside the main container -->
    <section class="tank-demo">
      <h2>Tank Fill Demo</h2>
      <!-- Water Level Gauge -->
      <svg class="arc-gauge" viewBox="0 0 100 100">
        <path class="track" d="M 13.75,66.90 A 40 40 0 1 1 86.25,66.90" />
        <path class="progress" d="M 13.75,66.90 A 40 40 0 1 1 86.25,66.90" />
        <text class="percentage" x="50" y="47">0%</text>
        <text class="gauge-subtext" x="50" y="68">Water level</text>
        <text class="demo-note" x="50" y="80">For demonstration purposes only*</text>
      </svg>
      <!-- Refill Tank button -->
      <button id="fillTankButton" class="btn-download"><i class="fas fa-tint"></i> Refill Tank</button>
    </section>

    <!-- Email Management Section -->
    <section class="email-management">
      <h2>Email Alert Management</h2>
      <p>Manage email addresses registered to receive alerts for threshold violations.</p>

      <div class="email-list" id="email-list">
        <div class="no-emails">Loading registered emails...</div>
      </div>
    </section>
  </main>

  <script src="{{ url_for('static', filename='js/settings.js') }}"></script>
</body>

</html>